<div class="team-container">
  <div class="header">
    <div class="header-content">
      <h2>Playlist Management</h2>
      <p>Manage playlists and their linked episodes.</p>
    </div>
    <button class="add-btn" (click)="toggleForm()">
      <lucide-angular [img]="PlusCircle" size="18" strokeWidth="2" /> Add
      Playlist
    </button>
  </div>

  <div class="team-list">
    <div class="team-card" *ngFor="let playlist of playlists">
      <div class="card-content">
        <h3>{{ playlist.title }}</h3>
        <p>{{ playlist.description || "No description provided." }}</p>
        <p><strong>Episodes:</strong> {{ playlist.episodes.length || 0 }}</p>
      </div>

      <div class="card-actions">
        <button class="icon-btn pen" (click)="editPlaylist(playlist)">
          <lucide-angular [img]="SquarePen" size="18" strokeWidth="2" />
        </button>
        <button class="icon-btn trash" (click)="confirmDelete(playlist)">
          <lucide-angular [img]="Trash2" size="18" strokeWidth="2" />
        </button>
      </div>
    </div>
  </div>

  <!-- Slide-in Drawer -->
  <div class="drawer" [class.open]="showForm">
    <app-admin-playlist-form
      (submitted)="onFormSubmitted()"
      [playlist]="editingPlaylist ?? null"
    />
  </div>

  <!-- Backdrop -->
  <div class="backdrop" *ngIf="showForm" (click)="toggleForm()"></div>

  <app-confirm-modal
    *ngIf="showConfirmModal"
    [title]="'Delete Playlist'"
    [message]="'Are you sure you want to delete this playlist?'"
    [confirmText]="'Delete'"
    [cancelText]="'Cancel'"
    (confirmed)="deletePlaylist()"
    (canceled)="hideConfirmModal()"
  />
</div>
