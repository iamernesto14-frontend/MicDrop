<app-header></app-header>
<div class="episodes-page">
  <h2 class="page-title">All Episodes</h2>
  <p>Discover our collection of thoughtful conversations and guided experiences designed to support your journey.</p>

  <div *ngIf="loading" class="status loading">Loading...</div>
  <div *ngIf="error" class="status error">{{ error }}</div>

  <div *ngIf="!loading && episodes.length > 0" class="episode-grid">
    <div *ngFor="let episode of episodes" class="episode-card">
      
      <div class="image-container">
        <img [src]="episode.img_url" [alt]="episode.title" />
        <span class="duration">{{ episode.duration }}</span>
      </div>

      <div class="card-body">
        <h3 class="title">{{ episode.title }}</h3>

        <div class="meta">
          <span class="pill">S{{ episode.season }}</span>
          <span class="pill">E{{ episode.episode }}</span>
          <span class="date">Posted {{ episode.posted_on | date:'mediumDate' }}</span>
        </div>

        <p class="description">{{ episode.description }}</p>

        <audio *ngIf="episode.audio_url" controls>
          <source [src]="episode.audio_url" type="audio/mpeg" />
          Your browser does not support the audio element.
        </audio>

        <div class="links">
          <a *ngIf="episode.spotify_url" [href]="episode.spotify_url" target="_blank">Spotify</a>
          <a *ngIf="episode.apple_podcasts_url" [href]="episode.apple_podcasts_url" target="_blank">Apple</a>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="!loading && episodes.length === 0" class="status empty">
    No episodes available at the moment.
  </div>
</div>
<app-mobile-admin-menu
  class="scroll-aware-menu"
  [menuItems]="menuItems"
></app-mobile-admin-menu>